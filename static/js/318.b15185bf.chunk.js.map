{"version":3,"file":"static/js/318.b15185bf.chunk.js","mappings":"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","sources":["components/Login/Login.jsx","components/common/FormsControls/FormsControls.jsx","webpack://react-kabzda-1/./src/components/common/FormsControls/FormsControls.module.css?eb50"],"sourcesContent":["import React from \"react\";\r\nimport {Field, Form, Formik} from \"formik\";\r\nimport {connect} from \"react-redux\";\r\nimport {FormControl} from \"../common/FormsControls/FormsControls\";\r\nimport * as Yup from \"yup\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Navigate} from \"react-router-dom\";\r\nimport s from \"./../common/FormsControls/FormsControls.module.css\"\r\n\r\nconst SignupSchema = Yup.object().shape({\r\n    email: Yup.string()\r\n        .min(10, 'Too Short!')\r\n        .max(50, 'Too Long!')\r\n        .required('Required'),\r\n    password: Yup.string()\r\n        .min(4, 'Too Short!')\r\n        .max(20, 'Too Long!')\r\n        .required('Required'),\r\n    rememberMe: Yup.boolean(),\r\n});\r\n\r\nfunction Login(props) {\r\n\r\n    if (props.isAuth) {\r\n        return <Navigate replace to=\"/profile\"/>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginForm {...props} />\r\n        </div>\r\n    );\r\n}\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <>\r\n            <Formik\r\n                validationSchema={SignupSchema}\r\n                initialValues={{email: \"\", password: \"\", rememberMe: false}}\r\n                onSubmit={(formData, {setSubmitting}) => {\r\n                    props.login(formData.email, formData.password, formData.rememberMe);\r\n                    setSubmitting(false); // Убираем статус загрузки\r\n                }}\r\n            >\r\n                {({handleSubmit}) => (\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <div>\r\n                            <Field name=\"email\" placeholder=\"Email\" component={FormControl}\r\n                                   componentProps={{type: \"text\"}}/>\r\n                        </div>\r\n                        <div>\r\n                            <Field name=\"password\" type=\"password\" placeholder=\"Password\" component={FormControl}\r\n                                   componentProps={{type: \"password\"}}/>\r\n                        </div>\r\n                        <div>\r\n                            <Field name=\"rememberMe\" type=\"checkbox\" component={FormControl}\r\n                                   componentProps={{type: \"checkbox\"}}/> Remember me\r\n                        </div>\r\n                        {props.errorAuth && <div className={s.formSummaryError}>{props.errorAuth}</div>}\r\n                        <div>\r\n                            <button type=\"submit\">Login</button>\r\n                        </div>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    errorAuth: state.auth.errorAuth\r\n});\r\n\r\nexport default connect(mapStateToProps, {login})(Login);\r\n","import React from 'react';\r\nimport s from './FormsControls.module.css';\r\n\r\nexport const FormControl = ({ field, form: { touched, errors }, component: Component = \"input\", ...props }) => {\r\n\r\n    const { componentProps, ...restProps } = props; // Извлекаем componentProps, чтобы он не попал в DOM\r\n    const error = errors[field.name] && touched[field.name];\r\n\r\n    return (\r\n        <div className={`${s.formControl} ${error ? s.error : \"\"}`}>\r\n            <div>\r\n                <Component {...field} {...restProps} {...componentProps} />\r\n            </div>\r\n            {error && <span>{errors[field.name]}</span>}\r\n        </div>\r\n    );\r\n};\r\n\r\n//................................................................\r\n\r\nexport const TextArea = ({ field, form: {touched, errors}, ...props}) => {\r\n\r\n    // debugger\r\n    const error = errors[field.name] && touched[field.name];\r\n\r\n    return (\r\n        <div className={`${s.formControl} ${error ? s.error : ''}`}>\r\n            <div>\r\n                <textarea {...field} {...props}/>\r\n            </div>\r\n            {error && <span>{errors[field.name]}</span>}\r\n        </div>\r\n    )\r\n}\r\nexport const Input = ({ field, form: {touched, errors}, ...props}) => {\r\n\r\n    const error = errors[field.name] && touched[field.name];\r\n\r\n    return (\r\n        <div className={`${s.formControl} ${error ? s.error : ''}`}>\r\n            <div>\r\n                <input {...field} {...props}/>\r\n            </div>\r\n            {error && <span>{errors[field.name]}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n// не работает \"field, form:\" undefined\r\n// import React from 'react';\r\n// import s from './FormsControls.module.css';\r\n//\r\n// // Один кусок кода\r\n// export const FormControls = ({field, form: {touched, errors}, children, ...props}) => {\r\n//     debugger\r\n//     const error = errors[field.name] && touched[field.name];\r\n//\r\n//     return (\r\n//         <div className={`${s.formControl} ${error ? s.error : ''}`}>\r\n//             <div>\r\n//                 {props.children}\r\n//             </div>\r\n//             {error && <span>{errors[field.name]}</span>}\r\n//         </div>\r\n//     )\r\n// }\r\n//\r\n// // 2 обертки над ним\r\n// export const TextArea = ({field, ...props}) => {\r\n//     return <FormControls {...props}> <textarea {...field} {...props}/></FormControls>\r\n// }\r\n// export const Input = ({field, ...props}) => {\r\n//     return <FormControls {...props}> <input {...field} {...props}/></FormControls>\r\n// }","// extracted by mini-css-extract-plugin\nexport default {\"formControl\":\"FormsControls_formControl__gMU-B\",\"error\":\"FormsControls_error__boSMr\",\"formSummaryError\":\"FormsControls_formSummaryError__1YObT\"};"],"names":["SignupSchema","Yup","shape","email","min","max","required","password","rememberMe","LoginForm","props","_jsx","_Fragment","children","Formik","validationSchema","initialValues","onSubmit","formData","_ref","setSubmitting","login","_ref2","handleSubmit","_jsxs","Form","Field","name","placeholder","component","FormControl","componentProps","type","errorAuth","className","s","formSummaryError","connect","state","isAuth","auth","Navigate","replace","to","field","form","touched","errors","Component","restProps","error","formControl","TextArea"],"sourceRoot":""}