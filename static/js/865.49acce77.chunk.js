"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[865],{865:(s,e,t)=>{t.r(e),t.d(e,{default:()=>$});var r=t(43);const o="ProfileInfo_descriptionBlock__PfVFs",i="ProfileInfo_avatar__Y6NqF",n="ProfileInfo_info__s8mie",a="ProfileInfo_instagram__Q-e-J",l="ProfileInfo_inputFileRow__-zD2I",p="ProfileInfo_inputFile__XrMWb",c="ProfileInfo_inputFileList__KW6U-";var d=t(168),u=t(579);const h=s=>{let[e,t]=(0,r.useState)(!1),[o,i]=(0,r.useState)(s.status);(0,r.useEffect)((()=>{i(s.status)}),[s.status]);return(0,u.jsxs)(u.Fragment,{children:[!e&&(0,u.jsx)("div",{children:(0,u.jsx)("span",{onDoubleClick:()=>{t(!0)},children:s.status||"---"})}),e&&(0,u.jsx)("div",{children:(0,u.jsx)("input",{onChange:s=>{i(s.currentTarget.value)},value:o,onBlur:()=>{t(!1),s.upDateStatus(o)},autoFocus:!0})})]})};var m=t(478);const x=s=>{if(!s.profile)return(0,u.jsx)(d.Z,{});return(0,u.jsxs)("div",{children:[(0,u.jsx)(h,{status:s.status,upDateStatus:s.upDateStatus}),(0,u.jsxs)("div",{className:o,children:[(0,u.jsx)("img",{src:s.profile.photos.large||m,alt:"Avatar",className:i}),s.isOwner&&(0,u.jsx)("form",{method:"post",encType:"multipart/form-data",children:(0,u.jsxs)("div",{className:l,children:[(0,u.jsxs)("label",{className:p,children:[(0,u.jsx)("input",{type:"file",name:"file[]",multiple:!0,accept:"image/*"}),(0,u.jsx)("span",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b"})]}),(0,u.jsx)("div",{className:c})]})}),(0,u.jsxs)("div",{className:n,children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"\u0418\u043c\u044f:"})," ",s.profile.fullName]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"\u0420\u0430\u0431\u043e\u0442\u0430:"})," ",s.profile.lookingForAJobDescription]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"})," ",s.profile.aboutMe]}),"d",(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"userID:"})," ",s.profile.userId]}),s.profile.contacts.instagram&&(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Instagram:"}),(0,u.jsx)("a",{href:`https://instagram.com/${s.profile.contacts.instagram}`,target:"_blank",rel:"noopener noreferrer",className:a,children:` @${s.profile.contacts.instagram}`})]})]})]})]})};var f=t(249);const j="MyPosts_postsBlock__bwru2",_="MyPosts_posts__aiUzd",g="Post_item__KRdsC",v=s=>(0,u.jsxs)("div",{className:g,children:[(0,u.jsx)("img",{src:"https://img.freepik.com/premium-photo/flat-icon-design_1258715-207027.jpg?semt=ais_hybrid"}),s.message,(0,u.jsx)("div",{children:(0,u.jsxs)("span",{children:["like ",s.quantityLike]})})]});var P=t(892),D=t(244),I=t(899);const b=r.memo((s=>{let e=[...s.posts].map(((s,e)=>(0,u.jsx)(v,{quantityLike:s.quantityLike,message:s.message},e)));return(0,u.jsxs)("div",{className:j,children:[(0,u.jsx)("div",{children:(0,u.jsx)("h3",{children:"My post"})}),(0,u.jsx)(C,{addPost:s.addPost,newPostText:s.newPostText}),(0,u.jsx)("div",{className:_,children:e})]})})),S=I.Ik().shape({newPostText:I.Yj().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),C=s=>(0,u.jsx)(P.l1,{initialValues:{newPostText:""},validationSchema:S,onSubmit:(e,t)=>{let{resetForm:r}=t;s.addPost(e.newPostText),r()},children:s=>{let{handleChange:e,values:t,errors:r,touched:o}=s;return(0,u.jsxs)(P.lV,{children:[(0,u.jsx)("div",{children:(0,u.jsx)(P.D0,{name:"newPostText",component:D.fs,value:t.newPostText,onChange:e})}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{type:"submit",children:"Add post"})})]})}});var k=t(3);const w=(0,k.Ng)((s=>({posts:s.profilePage.posts,newPostText:s.profilePage.newPostText})),(s=>({addPost:e=>{s((0,f.i5)(e))}})))(b),N=s=>(0,u.jsxs)("div",{children:[(0,u.jsx)(x,{savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.profile,status:s.status,upDateStatus:s.upDateStatus}),(0,u.jsx)(w,{})]});var A=t(216),T=t(863),y=t(923);class F extends r.Component{refreshProfile(){this.props.getProfile(this.props.userID),this.props.getStatus(this.props.userID)}componentDidMount(){this.refreshProfile()}componentDidUpdate(s,e,t){this.props.userID!==s.userID&&this.refreshProfile()}render(){return this.props.isAuth?(0,u.jsx)("div",{children:(0,u.jsx)(N,{savePhoto:this.props.savePhoto,isOwner:!this.props.userID,...this.props,profile:this.props.profile,status:this.props.status,upDateStatus:this.props.upDateStatus})}):(0,u.jsx)(A.C5,{to:"/login"})}}function M(s){const{userID:e}=(0,A.g)();return(0,u.jsx)(F,{...s,userID:e})}const $=(0,y.Zz)((0,k.Ng)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,authUserID:s.auth.userID})),{setUserProfile:f.p,getProfile:f.E$,getStatus:f.BS,upDateStatus:f.A4,savePhoto:f.Ah}),T.H)((function(s){return(0,u.jsx)(M,{...s})}))},244:(s,e,t)=>{t.d(e,{MJ:()=>i,fs:()=>n});t(43);var r=t(304),o=t(579);const i=s=>{let{field:e,form:{touched:t,errors:i},component:n="input",...a}=s;const{componentProps:l,...p}=a,c=i[e.name]&&t[e.name];return(0,o.jsxs)("div",{className:`${r.A.formControl} ${c?r.A.error:""}`,children:[(0,o.jsx)("div",{children:(0,o.jsx)(n,{...e,...p,...l})}),c&&(0,o.jsx)("span",{children:i[e.name]})]})},n=s=>{let{field:e,form:{touched:t,errors:i},...n}=s;const a=i[e.name]&&t[e.name];return(0,o.jsxs)("div",{className:`${r.A.formControl} ${a?r.A.error:""}`,children:[(0,o.jsx)("div",{children:(0,o.jsx)("textarea",{...e,...n})}),a&&(0,o.jsx)("span",{children:i[e.name]})]})}},863:(s,e,t)=>{t.d(e,{H:()=>l});var r=t(43),o=t(216),i=t(3),n=t(579);let a=s=>({isAuth:s.auth.isAuth});const l=s=>{class e extends r.Component{render(){return this.props.isAuth?(0,n.jsx)(s,{...this.props}):(0,n.jsx)(o.C5,{to:"/login"})}}return(0,i.Ng)(a)(e)}},304:(s,e,t)=>{t.d(e,{A:()=>r});const r={formControl:"FormsControls_formControl__gMU-B",error:"FormsControls_error__boSMr",formSummaryError:"FormsControls_formSummaryError__1YObT"}},478:(s,e,t)=>{s.exports=t.p+"static/media/user.28369bd2f18e63cc2fb6.jpg"}}]);
//# sourceMappingURL=865.49acce77.chunk.js.map