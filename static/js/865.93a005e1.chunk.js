"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[865],{865:(s,e,t)=>{t.r(e),t.d(e,{default:()=>w});var r=t(43);const o="ProfileInfo_descriptionBlock__PfVFs",n="ProfileInfo_avatar__Y6NqF",a="ProfileInfo_info__s8mie",i="ProfileInfo_instagram__Q-e-J";var l=t(168),c=t(579);const d=s=>{let[e,t]=(0,r.useState)(!1),[o,n]=(0,r.useState)(s.status);(0,r.useEffect)((()=>{n(s.status)}),[s.status]);return(0,c.jsxs)(c.Fragment,{children:[!e&&(0,c.jsx)("div",{children:(0,c.jsx)("span",{onDoubleClick:()=>{t(!0)},children:s.status||"---"})}),e&&(0,c.jsx)("div",{children:(0,c.jsx)("input",{onChange:s=>{n(s.currentTarget.value)},value:o,onBlur:()=>{t(!1),s.upDateStatus(o)},autoFocus:!0})})]})},u=s=>s.profile?(0,c.jsxs)("div",{children:[(0,c.jsx)(d,{status:s.status,upDateStatus:s.upDateStatus}),(0,c.jsxs)("div",{className:o,children:[(0,c.jsx)("img",{src:s.profile.photos.large,alt:"Avatar",className:n}),(0,c.jsxs)("div",{className:a,children:[(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"\u0418\u043c\u044f:"})," ",s.profile.fullName]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"\u0420\u0430\u0431\u043e\u0442\u0430:"})," ",s.profile.lookingForAJobDescription]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"})," ",s.profile.aboutMe]}),"d",(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"userID:"})," ",s.profile.userId]}),s.profile.contacts.instagram&&(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Instagram:"}),(0,c.jsx)("a",{href:`https://instagram.com/${s.profile.contacts.instagram}`,target:"_blank",rel:"noopener noreferrer",className:i,children:` @${s.profile.contacts.instagram}`})]})]})]})]}):(0,c.jsx)(l.Z,{});var p=t(249);const h="MyPosts_postsBlock__bwru2",x="MyPosts_posts__aiUzd",m="Post_item__KRdsC",j=s=>(0,c.jsxs)("div",{className:m,children:[(0,c.jsx)("img",{src:"https://img.freepik.com/premium-photo/flat-icon-design_1258715-207027.jpg?semt=ais_hybrid"}),s.message,(0,c.jsx)("div",{children:(0,c.jsxs)("span",{children:["like ",s.quantityLike]})})]});var f=t(892),g=t(244),_=t(899);const v=r.memo((s=>{let e=[...s.posts].reverse().map(((s,e)=>(0,c.jsx)(j,{quantityLike:s.quantityLike,message:s.message},e)));return(0,c.jsxs)("div",{className:h,children:[(0,c.jsx)("div",{children:(0,c.jsx)("h3",{children:"My post"})}),(0,c.jsx)(D,{addPost:s.addPost,newPostText:s.newPostText}),(0,c.jsx)("div",{className:x,children:e})]})})),P=_.Ik().shape({newPostText:_.Yj().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),D=s=>(0,c.jsx)(f.l1,{initialValues:{newPostText:""},validationSchema:P,onSubmit:(e,t)=>{let{resetForm:r}=t;s.addPost(e.newPostText),r()},children:s=>{let{handleChange:e,values:t,errors:r,touched:o}=s;return(0,c.jsxs)(f.lV,{children:[(0,c.jsx)("div",{children:(0,c.jsx)(f.D0,{name:"newPostText",component:g.fs,value:t.newPostText,onChange:e})}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{type:"submit",children:"Add post"})})]})}});var S=t(3);const C=(0,S.Ng)((s=>({posts:s.profilePage.posts,newPostText:s.profilePage.newPostText})),(s=>({addPost:e=>{s((0,p.i5)(e))}})))(v),k=s=>(0,c.jsxs)("div",{children:[(0,c.jsx)(u,{profile:s.profile,status:s.status,upDateStatus:s.upDateStatus}),(0,c.jsx)(C,{})]});var b=t(216),I=t(863),N=t(923);class A extends r.Component{componentDidMount(){this.props.getProfile(this.props.userID),this.props.getStatus(this.props.userID)}render(){return this.props.isAuth?(0,c.jsx)("div",{children:(0,c.jsx)(k,{...this.props,profile:this.props.profile,status:this.props.status,upDateStatus:this.props.upDateStatus})}):(0,c.jsx)(b.C5,{to:"/login"})}}function T(s){const{userID:e}=(0,b.g)();return(0,c.jsx)(A,{...s,userID:e})}const w=(0,N.Zz)((0,S.Ng)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,authUserID:s.auth.userID})),{setUserProfile:p.p,getProfile:p.E$,getStatus:p.BS,upDateStatus:p.A4}),I.H)((function(s){return(0,c.jsx)(T,{...s})}))},244:(s,e,t)=>{t.d(e,{MJ:()=>n,fs:()=>a});t(43);var r=t(304),o=t(579);const n=s=>{let{field:e,form:{touched:t,errors:n},component:a="input",...i}=s;const{componentProps:l,...c}=i,d=n[e.name]&&t[e.name];return(0,o.jsxs)("div",{className:`${r.A.formControl} ${d?r.A.error:""}`,children:[(0,o.jsx)("div",{children:(0,o.jsx)(a,{...e,...c,...l})}),d&&(0,o.jsx)("span",{children:n[e.name]})]})},a=s=>{let{field:e,form:{touched:t,errors:n},...a}=s;const i=n[e.name]&&t[e.name];return(0,o.jsxs)("div",{className:`${r.A.formControl} ${i?r.A.error:""}`,children:[(0,o.jsx)("div",{children:(0,o.jsx)("textarea",{...e,...a})}),i&&(0,o.jsx)("span",{children:n[e.name]})]})}},863:(s,e,t)=>{t.d(e,{H:()=>l});var r=t(43),o=t(216),n=t(3),a=t(579);let i=s=>({isAuth:s.auth.isAuth});const l=s=>{class e extends r.Component{render(){return this.props.isAuth?(0,a.jsx)(s,{...this.props}):(0,a.jsx)(o.C5,{to:"/login"})}}return(0,n.Ng)(i)(e)}},304:(s,e,t)=>{t.d(e,{A:()=>r});const r={formControl:"FormsControls_formControl__gMU-B",error:"FormsControls_error__boSMr",formSummaryError:"FormsControls_formSummaryError__1YObT"}}}]);
//# sourceMappingURL=865.93a005e1.chunk.js.map